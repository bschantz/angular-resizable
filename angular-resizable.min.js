angular.module("angularResizable",[]).directive("resizable",function(){function e(e){void 0===t?(t=e,setTimeout(function(){t(),t=void 0},100)):t=e}var t;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@",rNoThrottle:"="},link:function(t,r,n){var i="flexBasis"in document.documentElement.style?"flexBasis":"webkitFlexBasis"in document.documentElement.style?"webkitFlexBasis":"msFlexPreferredSize"in document.documentElement.style?"msFlexPreferredSize":"flexBasis";t.$watch("rWidth",function(e){r[0].style[t.rFlex?i:"width"]=t.rWidth+"px"}),t.$watch("rHeight",function(e){r[0].style[t.rFlex?i:"height"]=t.rHeight+"px"}),r.addClass("resizable");var o,s,a,l,u,d,c,h=window.getComputedStyle(r[0],null),m=t.rDirections||["right"],p=t.rCenteredX?2:1,v=t.rCenteredY?2:1,x=t.rGrabber?t.rGrabber:"<span></span>",f={},g=function(e){f.width=!1,f.height=!1,"x"===c?f.width=parseInt(r[0].style[t.rFlex?i:"width"]):f.height=parseInt(r[0].style[t.rFlex?i:"height"]),f.id=r[0].id,f.evt=e},b=function(e){return e.touches?e.touches[0].clientX:e.clientX},y=function(e){return e.touches?e.touches[0].clientY:e.clientY},w=function(n){function l(){t.$emit("angular-resizable.resizing",f)}var h,m="x"===c?u-b(n):u-y(n);switch(d){case"top":h=t.rFlex?i:"height",r[0].style[h]=s+m*v+"px";break;case"bottom":h=t.rFlex?i:"height",r[0].style[h]=s-m*v+"px";break;case"right":h=t.rFlex?i:"width",r[0].style[h]=o-m*p+"px";break;case"left":"absolute"==r[0].style.position?(h=t.rFlex?i:"width",r[0].style[h]=o+m*p+"px",t.rFlex||(r[0].style.left=a-m*p+"px")):(h=t.rFlex?i:"width",r[0].style[h]=o+m*p+"px")}g(n),t.rNoThrottle?l():e(l)},E=function(e){g(),t.$emit("angular-resizable.resizeEnd",f),t.$apply(),document.removeEventListener("mouseup",E,!1),document.removeEventListener("mousemove",w,!1),document.removeEventListener("touchend",E,!1),document.removeEventListener("touchmove",w,!1),r.removeClass("no-transition")},F=function(e,n){d=n,c="left"===d||"right"===d?"x":"y",u="x"===c?b(e):y(e),o=parseInt(h.getPropertyValue("width")),s=parseInt(h.getPropertyValue("height")),a=parseInt(h.getPropertyValue("left")),l=parseInt(h.getPropertyValue("top")),r.addClass("no-transition"),document.addEventListener("mouseup",E,!1),document.addEventListener("mousemove",w,!1),document.addEventListener("touchend",E,!1),document.addEventListener("touchmove",w,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,g(e),t.$emit("angular-resizable.resizeStart",f),t.$apply()};m.forEach(function(e){var n=document.createElement("div");n.setAttribute("class","rg-"+e),n.innerHTML=x,r[0].appendChild(n),n.ondragstart=function(){return!1};var i=function(r){var n="true"===t.rDisabled;n||1!==r.which&&!r.touches||F(r,e)};n.addEventListener("mousedown",i,!1),n.addEventListener("touchstart",i,!1)})}}});